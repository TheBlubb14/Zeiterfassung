@page "/"
@inject Blazored.LocalStorage.ILocalStorageService localStorage

<PageTitle>Home</PageTitle>

<MudToggleIconButton Toggled="@AlarmOn" ToggledChanged="OnToggledChanged"
                     Icon="@Icons.Material.Filled.AlarmOff" Color="@Color.Error" title=@(AlarmOn ? "On" : "Off")
                     ToggledIcon="@Icons.Material.Filled.AlarmOn" ToggledColor="@Color.Success" />

<span>Alarm is @(AlarmOn ? "On" : "Off")</span>
<span>@($"I have sssaaaa switched on {SwitchedOnCount} times")</span>


@code{
    public bool AlarmOn { get; set; }
    public int SwitchedOnCount { get; set; }

    public void OnToggledChanged(bool toggled)
    {
        // Because variable is not two-way bound, we need to update it ourselves.
        AlarmOn = toggled;

        if (AlarmOn)
        {
            SwitchedOnCount++;
        }
    }
}